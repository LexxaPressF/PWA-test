import{u as p}from"./PerfomanceHelper-D3dr_-DC.js";import{d as m,l as d,o as u,c,a as e,t as l,_ as b,q as E,x as G,k as x,g,F as C}from"./index-qs6TxSUP.js";const L=m({__name:"PhoneCamera",setup(_){const o=d(null);return navigator.mediaDevices.getUserMedia({video:!0}).then(t=>{o.value&&(o.value.srcObject=t,o.value.play())}).catch(t=>{console.error(t)}),p("PhoneCamera"),(t,r)=>(u(),c("video",{id:"video",ref_key:"video",ref:o,class:"video",autoplay:!0,playsinline:!0,muted:!0},null,512))}}),O=["disabled"],A=["disabled"],B=m({__name:"PhoneBluetooth",setup(_){const o=d(""),t=d(null),r=d(!1);async function i(){try{const a=await navigator.bluetooth.requestDevice({acceptAllDevices:!0,optionalServices:["battery_service"]});t.value=a,o.value=a.name??"Безымянное устройство"}catch(a){console.error("Ошибка при запросе устройства:",a)}}async function s(){var a;if(!t.value){console.warn("Сначала необходимо выбрать устройство");return}try{const n=await((a=t.value.gatt)==null?void 0:a.connect());if(n){r.value=!0,console.log("GATT-сервер подключён:",n);const y=await(await(await n.getPrimaryService("battery_service")).getCharacteristic("battery_level")).readValue();console.log("Уровень заряда батареи:",y.getUint8(0))}}catch(n){console.error("Ошибка при подключении к устройству:",n)}}function v(){var a;t.value&&((a=t.value.gatt)!=null&&a.connected)&&(t.value.gatt.disconnect(),r.value=!1,console.log("Устройство отключено"))}return p("PhoneBluetooth"),(a,n)=>(u(),c("div",null,[n[0]||(n[0]=e("h1",null,"Web Bluetooth Demo",-1)),e("p",null,"Выбранное устройство: "+l(o.value||"не выбрано"),1),e("button",{onClick:i},"Запросить устройство"),e("button",{disabled:!t.value,onClick:s}," Подключиться ",8,O),e("button",{disabled:!r.value,onClick:v}," Отключиться ",8,A),e("div",null,[e("p",null," Статус подключения: "+l(r.value?"подключено":"не подключено"),1)])]))}}),R=b(B,[["__scopeId","data-v-5e2f06f3"]]),M={key:0},$={key:1},z={key:2},N=m({__name:"PhoneGeo",setup(_){const o=d(null),t=d(null),r=()=>{if(!navigator.geolocation){t.value="Geolocation is not supported by your browser.";return}navigator.geolocation.getCurrentPosition(i=>{o.value={latitude:i.coords.latitude,longitude:i.coords.longitude,accuracy:i.coords.accuracy},t.value=null},i=>{switch(i.code){case i.PERMISSION_DENIED:t.value="Permission denied. Please allow location access.";break;case i.POSITION_UNAVAILABLE:t.value="Position unavailable.";break;case i.TIMEOUT:t.value="Request timed out.";break;default:t.value="An unknown error occurred."}})};return p("PhoneGeo"),(i,s)=>(u(),c("div",null,[s[1]||(s[1]=e("h1",null,"Geolocation API",-1)),t.value?(u(),c("div",M,[e("p",null,"Error: "+l(t.value),1)])):o.value?(u(),c("div",$,[e("p",null,"Latitude: "+l(o.value.latitude),1),e("p",null,"Longitude: "+l(o.value.longitude),1),e("p",null,"Accuracy: "+l(o.value.accuracy)+" meters",1)])):(u(),c("div",z,s[0]||(s[0]=[e("p",null,"Location not retrieved yet.",-1)]))),e("button",{onClick:r},"Get Current Location")]))}}),S=b(N,[["__scopeId","data-v-33d8e5a8"]]),q={class:"sensor-demo"},T={key:0,class:"not-supported"},U={key:1},V={class:"orientation"},F={class:"motion"},X={key:0,class:"error"},Y=m({__name:"PhoneOrientation",setup(_){const o=d({alpha:0,beta:0,gamma:0}),t=d({acceleration:{x:0,y:0,z:0},accelerationIncludingGravity:{x:0,y:0,z:0},rotationRate:{alpha:0,beta:0,gamma:0}}),r=d(null),i=d(!0);function s(a){o.value={alpha:a.alpha??0,beta:a.beta??0,gamma:a.gamma??0}}function v(a){var n,f,h,y,P,w,I,k,D;t.value={acceleration:{x:((n=a.acceleration)==null?void 0:n.x)??0,y:((f=a.acceleration)==null?void 0:f.y)??0,z:((h=a.acceleration)==null?void 0:h.z)??0},accelerationIncludingGravity:{x:((y=a.accelerationIncludingGravity)==null?void 0:y.x)??0,y:((P=a.accelerationIncludingGravity)==null?void 0:P.y)??0,z:((w=a.accelerationIncludingGravity)==null?void 0:w.z)??0},rotationRate:{alpha:((I=a.rotationRate)==null?void 0:I.alpha)??0,beta:((k=a.rotationRate)==null?void 0:k.beta)??0,gamma:((D=a.rotationRate)==null?void 0:D.gamma)??0}}}return E(()=>{if(typeof DeviceOrientationEvent>"u"||typeof DeviceMotionEvent>"u"){i.value=!1,r.value="Датчики движения и ориентации не поддерживаются вашим устройством.";return}typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(a=>{a==="granted"?(window.addEventListener("deviceorientation",s),window.addEventListener("devicemotion",v)):r.value="Доступ к датчикам отклонён пользователем."}).catch(()=>{r.value="Не удалось запросить доступ к датчикам."}):(window.addEventListener("deviceorientation",s),window.addEventListener("devicemotion",v))}),G(()=>{window.removeEventListener("deviceorientation",s),window.removeEventListener("devicemotion",v)}),p("PhoneOrientation"),(a,n)=>(u(),c("div",q,[n[6]||(n[6]=e("h1",null,"Датчики движения и ориентации",-1)),i.value?(u(),c("div",U,[e("div",V,[n[1]||(n[1]=e("h2",null,"Device Orientation",-1)),e("p",null,"Alpha (заголовок): "+l(o.value.alpha),1),e("p",null,"Beta (тангаж): "+l(o.value.beta),1),e("p",null,"Gamma (крен): "+l(o.value.gamma),1)]),e("div",F,[n[2]||(n[2]=e("h2",null,"Device Motion",-1)),n[3]||(n[3]=e("p",null,"Ускорение (без гравитации):",-1)),e("ul",null,[e("li",null,"X: "+l(t.value.acceleration.x),1),e("li",null,"Y: "+l(t.value.acceleration.y),1),e("li",null,"Z: "+l(t.value.acceleration.z),1)]),n[4]||(n[4]=e("p",null,"Ускорение (с гравитацией):",-1)),e("ul",null,[e("li",null,"X: "+l(t.value.accelerationIncludingGravity.x),1),e("li",null,"Y: "+l(t.value.accelerationIncludingGravity.y),1),e("li",null,"Z: "+l(t.value.accelerationIncludingGravity.z),1)]),n[5]||(n[5]=e("p",null,"Гироскоп (угловая скорость):",-1)),e("ul",null,[e("li",null,"Alpha: "+l(t.value.rotationRate.alpha),1),e("li",null,"Beta: "+l(t.value.rotationRate.beta),1),e("li",null,"Gamma: "+l(t.value.rotationRate.gamma),1)])]),r.value?(u(),c("div",X,[e("p",null,l(r.value),1)])):x("",!0)])):(u(),c("div",T,n[0]||(n[0]=[e("p",null," Ваш браузер не поддерживает API датчиков движения и ориентации. ",-1)])))]))}}),Z=b(Y,[["__scopeId","data-v-fa0dfbea"]]),H=m({__name:"PhoneCapabilities",setup(_){return p("PhoneCapabilities"),(o,t)=>(u(),c(C,null,[t[0]||(t[0]=e("div",null,"Камера",-1)),g(L),g(R),g(S),g(Z)],64))}});export{H as default};
